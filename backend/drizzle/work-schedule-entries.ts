import { pgTable, text, timestamp, integer, doublePrecision, boolean } from 'drizzle-orm/pg-core';
import { sql } from 'drizzle-orm';
import { workScheduleEntryStatusEnum } from './work-schedule-entry-status-enum';

export const workScheduleEntries = pgTable('work_schedule_entries', { id: text('id').default(sql`gen_random_uuid()`).primaryKey(), user_id: text('user_id').notNull(), work_schedule_id: text('work_schedule_id').notNull(), date_start: timestamp('date_start', { mode: 'date', precision: 3 }).notNull(), date_finish: timestamp('date_finish', { mode: 'date', precision: 3 }), duration: integer('duration').default(0).notNull(), ip_open: text('ip_open'), ip_close: text('ip_close'), lat_open: doublePrecision('lat_open').default(0).notNull(), lat_close: doublePrecision('lat_close').default(0).notNull(), lon_open: doublePrecision('lon_open').default(0).notNull(), lon_close: doublePrecision('lon_close').default(0).notNull(), current_status: workScheduleEntryStatusEnum('current_status').default('open').notNull(), late: boolean('late').default(false).notNull(), created_at: timestamp('created_at', { mode: 'date', precision: 3 }).defaultNow().notNull(), updated_at: timestamp('updated_at', { mode: 'date', precision: 3 }).defaultNow().notNull(), created_by: text('created_by'), updated_by: text('updated_by') });